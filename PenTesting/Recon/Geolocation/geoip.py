import geoip2.database
import sys

reader = geoip2.database.Reader('/opt/GeoIP/GeoLite2-City.mmdb')

def printRecord(tgt):
    rec = reader.city(tgt)
    city = rec.city.names['en']
    region = rec.subdivisions[0].iso_code
    country = rec.country.names['en']
    long = rec.location.longitude
    lat = rec.location.latitude
    print ('[*] Target: ' + tgt + ' Geo-located.')
    print ('[*] '+str(city)+', '+str(region)+', '+str(country))
    print ('[*] Latitude: '+str(lat)+', Longitude: '+str(long))

tgt = sys.argv[1]
tgt = tgt[0:-1]

printRecord(tgt)
